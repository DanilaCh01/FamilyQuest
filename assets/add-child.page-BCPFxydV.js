import{u as j,r as x,j as e,a as m,b as f,d as g}from"./index-DSzY9glm.js";import{L as n,I as o,B as w}from"./button.component-KCU_JT3P.js";const b=()=>{const l=j(),[d,a]=x.useState(""),[s,c]=x.useState({name:"",email:"",password:"",confirmPassword:""}),r=i=>{const{name:t,value:h}=i.target;c(p=>({...p,[t]:h}))},u=async i=>{if(i.preventDefault(),a(""),s.password!==s.confirmPassword){a("Паролі не співпадають!");return}try{await f("/users/children","POST",{name:s.name,email:s.email,password:s.password}),console.log("Дитину успішно додано!"),l(m.user)}catch(t){t.status===409?a("Користувач з такою поштою вже існує."):t.status===400?a("Некоректні дані. Перевірте ім'я, формат пошти та пароль"):t.status===401||t.status===403?(g(),l(`/auth/${m.signIn}`)):a("Помилка мережі або сервера. Спробуйте пізніше.")}};return e.jsx("div",{className:"flex flex-col items-center justify-center min-h-[80vh]",children:e.jsxs("div",{className:"w-full max-w-sm bg-white p-8 rounded-2xl shadow-lg border border-gray-100",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 text-center mb-2",children:"Додати дитину"}),e.jsx("p",{className:"text-sm text-gray-500 text-center mb-6",children:"Створіть аккаунт для вашої дитини, щоб вона могла отримувати завдання."}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{text:"Ім'я дитини"}),e.jsx(o,{name:"name",type:"text",required:!0,placeholder:"Введіть ім'я",value:s.name,onChange:r})]}),e.jsxs("div",{children:[e.jsx(n,{text:"Email дитини"}),e.jsx(o,{name:"email",type:"email",required:!0,value:s.email,onChange:r})]}),e.jsxs("div",{children:[e.jsx(n,{text:"Пароль"}),e.jsx(o,{name:"password",type:"password",required:!0,value:s.password,onChange:r})]}),e.jsxs("div",{children:[e.jsx(n,{text:"Підтвердження паролю"}),e.jsx(o,{name:"confirmPassword",type:"password",required:!0,value:s.confirmPassword,onChange:r})]}),d&&e.jsx("p",{className:"text-red-500 text-sm text-center font-medium",children:d}),e.jsx(w,{text:"Зареєструвати дитину"})]}),e.jsx("button",{onClick:()=>l(m.user),className:"w-full mt-4 text-sm text-gray-500 hover:text-gray-800 transition",children:"Скасувати та повернутися"})]})})};export{b as AddChildPage};
