import{u as g,r as c,j as e,L as u,a as l,b as v,s as f,c as b}from"./index-DSzY9glm.js";import{L as o,I as d,B as w}from"./button.component-KCU_JT3P.js";const S=()=>{const x=g(),[i,a]=c.useState(""),[t,m]=c.useState({email:"",password:"",role:"parent"}),r=n=>{const{name:s,value:p}=n.target;m(j=>({...j,[s]:p}))},h=async n=>{n.preventDefault(),a("");try{const s=await v("/auth/login","POST",t);f(s.token),b(t.role),x(l.user)}catch(s){s.status===400?a("Невірний запит. Перевірте введені дані."):s.status===401?a("Невірний email або пароль."):(console.error(s),a("Помилка мережі."))}};return e.jsxs("div",{className:"w-full max-w-sm",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 text-center mb-6",children:"Увійти у FamilyQuest"}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{text:"Email"}),e.jsx(d,{name:"email",type:"email",required:!0,value:t.email,onChange:r})]}),e.jsxs("div",{children:[e.jsx(o,{text:"Пароль"}),e.jsx(d,{name:"password",type:"password",required:!0,value:t.password,onChange:r})]}),i&&e.jsx("p",{className:"text-red-500 text-sm text-center",children:i}),e.jsxs("div",{children:[e.jsx(o,{text:"Хто ви?"}),e.jsxs("select",{name:"role",value:t.role,onChange:r,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"parent",children:"Батько/Мати"}),e.jsx("option",{value:"child",children:"Дитина"})]})]}),e.jsx(w,{text:"Увійти"})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:[e.jsx(u,{to:`/auth/${l.forgotPassword}`,className:"block text-blue-800 mb-3 hover:underline font-medium",children:"Забули пароль?"}),"Нема аккаунту? ",e.jsx(u,{to:`/auth/${l.signUp}`,className:"text-blue-600 hover:underline font-medium",children:"Зареєструватися"})]})]})};export{S as SignInPage};
