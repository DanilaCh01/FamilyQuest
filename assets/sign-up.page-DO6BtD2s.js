import{u as g,r as c,j as e,L as j,a as m,b as f,s as w,c as v}from"./index-DSzY9glm.js";import{L as o,I as l,B as y}from"./button.component-KCU_JT3P.js";const N=()=>{const d=g(),[i,a]=c.useState(""),[s,x]=c.useState({email:"",password:"",confirmPassword:""}),r=n=>{const{name:t,value:p}=n.target;x(h=>({...h,[t]:p}))},u=async n=>{if(n.preventDefault(),console.log("Дані SignUp (Controlled):",s),s.password!==s.confirmPassword){a("Паролі не співпадають!");return}console.log("Дані SignUp (Controlled):",s);try{const t=await f("/auth/register","POST",{email:s.email,password:s.password});w(t.token),v(t.role),console.log("Користувач успішно зареєстрований!"),d(m.user)}catch(t){if(t.status===400){a("Некоректні дані. Спробуйте ще раз.");return}if(t.status===409){a("Користувач з таким email вже існує.");return}a("Помилка мережі. Спробуйте ще раз."),console.log(t)}};return e.jsxs("div",{className:"w-full max-w-sm",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 text-center mb-6",children:"Створити акаунт"}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{text:"Email"}),e.jsx(l,{name:"email",type:"email",required:!0,value:s.email,onChange:r})]}),e.jsxs("div",{children:[e.jsx(o,{text:"Пароль"}),e.jsx(l,{name:"password",type:"password",required:!0,value:s.password,onChange:r})]}),e.jsxs("div",{children:[e.jsx(o,{text:"Підтвердження паролю"}),e.jsx(l,{name:"confirmPassword",type:"password",required:!0,value:s.confirmPassword,onChange:r})]}),i&&e.jsx("p",{className:"text-red-500 text-sm text-center",children:i})," ",e.jsx(y,{text:"Зареєструватися"})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:["Вже є акаунт?"," ",e.jsx(j,{to:`/auth/${m.signIn}`,className:"text-blue-600 hover:underline font-medium",children:"Увійти"})]})]})};export{N as SignUpPage};
